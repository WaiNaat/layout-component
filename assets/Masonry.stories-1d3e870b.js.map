{"version":3,"file":"Masonry.stories-1d3e870b.js","sources":["../../src/Masonry/contexts/index.tsx","../../src/Masonry/components/Board/index.tsx","../../src/Masonry/hooks/useMasonryContext.ts","../../src/Masonry/components/Item/index.tsx","../../src/Masonry/index.ts","../../src/stories/Masonry/utils.ts"],"sourcesContent":["import { createContext, memo } from 'react';\r\n\r\nexport type MasonryContextProps = {\r\n  /** 행 사이의 간격 */\r\n  rowGap?: React.CSSProperties['rowGap'];\r\n};\r\n\r\nexport const MasonryContext = createContext<MasonryContextProps | null>(null);\r\n\r\nconst MasonryProvider = memo(function MasonryProvider(\r\n  props: React.PropsWithChildren<MasonryContextProps>\r\n) {\r\n  const { rowGap, children } = props;\r\n\r\n  return <MasonryContext.Provider value={{ rowGap }}>{children}</MasonryContext.Provider>;\r\n});\r\n\r\nexport default MasonryProvider;\r\n","import { PolymorphicElementProps } from '../../../types';\r\nimport { columnGapVar, itemSizeVar, masonryBoard } from './Board.css';\r\nimport MasonryProvider, { MasonryContextProps } from '../../contexts';\r\nimport { assignInlineVars } from '@vanilla-extract/dynamic';\r\nimport { toPixelIfNumber } from '../../../utils/toPixelIfNumber';\r\n\r\ntype MasonryProps = MasonryContextProps & {\r\n  /** Masonry.Item의 너비 */\r\n  itemSize?: React.CSSProperties['width'];\r\n  /** true일 경우 Masonry의 너비에 따라 Item의 너비가 유동적으로 변함 */\r\n  fluidResize?: boolean;\r\n  /** 열 사이의 간격 */\r\n  columnGap?: React.CSSProperties['columnGap'];\r\n};\r\n\r\nconst Board = <E extends 'div' | 'main' | 'section' | 'article' = 'div'>(\r\n  props: React.PropsWithChildren<PolymorphicElementProps<E, MasonryProps>>\r\n) => {\r\n  const {\r\n    as: Element = 'div',\r\n    rowGap = 0,\r\n    columnGap = 0,\r\n    itemSize = '25%',\r\n    fluidResize = false,\r\n    children,\r\n  } = props;\r\n\r\n  const size = fluidResize\r\n    ? `minmax(${toPixelIfNumber(itemSize)}, 1fr)`\r\n    : toPixelIfNumber(itemSize);\r\n\r\n  return (\r\n    <MasonryProvider rowGap={rowGap}>\r\n      <Element\r\n        className={masonryBoard}\r\n        style={assignInlineVars({\r\n          [columnGapVar]: toPixelIfNumber(columnGap),\r\n          [itemSizeVar]: size,\r\n        })}\r\n      >\r\n        {children}\r\n      </Element>\r\n    </MasonryProvider>\r\n  );\r\n};\r\n\r\nexport default Board;\r\n","import { useContext } from 'react';\r\nimport { MasonryContext } from '../contexts';\r\n\r\nconst useMasonryContext = () => {\r\n  const value = useContext(MasonryContext);\r\n  if (!value) throw new Error('컴포넌트가 MasonryProvider의 자손이 아닙니다!');\r\n  return value;\r\n};\r\n\r\nexport default useMasonryContext;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { assignInlineVars } from '@vanilla-extract/dynamic';\r\nimport useMasonryContext from '../../hooks/useMasonryContext';\r\nimport { columnFlow, rowGapVar, volumeVar } from './Item.css';\r\nimport { toPixelIfNumber } from '../../../utils/toPixelIfNumber';\r\n\r\nconst Item = (props: React.PropsWithChildren) => {\r\n  const { children } = props;\r\n\r\n  const [volume, setVolume] = useState(1);\r\n  const item = useRef<HTMLDivElement>(null);\r\n  const { rowGap = 0 } = useMasonryContext();\r\n\r\n  useEffect(() => {\r\n    const resizeObserver = new ResizeObserver((entries) => {\r\n      const [entry] = entries;\r\n      const { height } = entry.target.getBoundingClientRect();\r\n\r\n      setVolume(Math.ceil(height));\r\n    });\r\n\r\n    if (item.current) resizeObserver.observe(item.current);\r\n\r\n    return () => resizeObserver.disconnect();\r\n  }, [rowGap]);\r\n\r\n  return (\r\n    <div\r\n      ref={item}\r\n      className={columnFlow}\r\n      style={assignInlineVars({\r\n        [rowGapVar]: toPixelIfNumber(rowGap),\r\n        [volumeVar]: volume.toString(),\r\n      })}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import Board from './components/Board';\r\nimport Item from './components/Item';\r\n\r\nconst Masonry = Object.assign(Board, { Item });\r\n\r\nexport default Masonry;\r\n","export const LONG_TEXT =\r\n  '귀납은 현대 논리학에서 연역이 아닌 모든 추론, 즉 전제가 결론을 개연적으로 뒷받침하는 모든 추론을 가리킨다. 귀납은기존의 정보나 관찰 증거 등을 근거로 새로운 사실을 추가하는 지식 확장적 특성을 지닌다. 이 특성으로 인해 귀납은 근대과학 발전의 방법적 토대가 되었지만, 한편으로 귀납 자체의 논리적 한계를 지적하는 문제들에 부딪히기도 한다. 먼저 흄은 과거의 경험을 근거로 미래를 예측하는 귀납이 정당한 추론이 되려면 미래의 세계가 과거에 우리가 경험해 온 세계와 동일하다는 자연의 일양성, 곧 한결같음이 가정되어야 한다고 보았다. 그런데 자연의 일양성은 선험적으로 알 수있는 것이 아니라 경험에 기대어야 알 수 있는 것이다. 즉 “귀납이 정당한 추론이다.”라는 주장은 “자연은 일양적이다.”라는 다른 지식을 전제로 하는데 그 지식은 다시 귀납에 의해 정당화되어야 하는 경험적 지식이므로 귀납의 정당화는 순환 논리에 빠져 버린다는 것이다. 이것이 귀납의 정당화 문제이다. 귀납의 정당화 문제로부터 과학의 방법인 귀납을 옹호하기 위해 라이헨바흐는 이 문제에 대해 현실적 구제책을 제시한다. 라이헨바흐는 자연이 일양적일 수도 있고 그렇지 않을 수도 있음을 전제한다. 먼저 자연이 일양적일 경우, 그는 지금까지의 우리의 경험에 따라 귀납이 점성술이나 예언 등의 다른 방법 보다 성공적인 방법이라고 판단한다. 자연이 일양적이지 않다면, 어떤 방법도 체계적으로 미래 예측에 계속해서 성공할 수 없다는 논리적 판단을 통해 귀납은 최소한 다른 방법보다 나쁘지 않은 추론이라고 확언한다. 결국 자연이 일양적인지 그렇지 않은지 알 수 없는 상황에서는 귀납을 사용하는 것이 옳은 선택이라는 라이헨바흐의 논증은 귀납의 정당화 문제를 현실적 차원에서 해소하려는 시도로 볼 수 있다. 귀납의 또 다른 논리적 한계로 어떤 현대 철학자는 미결정성의 문제를 지적한다. 이 문제는 관찰 증거만으로는 여러 가설 중에 어느 하나를 더 나은 것으로 결정할 수 없다는 것이다. 가령 몇 개의 점들이 발견되었을 때 그 점들을 모두 지나는 곡선은 여러 개이기 때문에 어느 하나로 결정되지 않는다. 예측의 경우도 마찬가지이다. 다음에 발견될 점을 예측할 때, 기존에 발견된 점들만으로는 다음에 찍힐 점이 어디에 나타날지 확정할 수 없다. 아무리 많은 점들을 관찰 증거로 추가하더라도 하나의 예측이 다른 예측보다 더 낫다고 결정하는 것은 여전히 불가능하다는 것이다. 그러나 미결정성의 문제가 있다고 하더라도 대부분의 현대 철학자들은 귀납을 과학의 방법으로 인정하고 있다. 이들은 귀납의 문제를 직접 해결하려 하기보다 확률을 도입하여 개연성이라는 귀납의 특징을 강조하려 한다. 이에 따르면 관찰 증거가 가설을 지지하는 정도 즉 전제와 결론 사이의 개연성은 확률로 표현될 수 있다. 또한 하나의 가설이 다른 가설보다, 하나의 예측이 다른 예측보다 더 낫다고 확률적 근거에 의해 판단할 수 있다는 것이다. 이처럼 확률 논리로 설명되는 개연성은 일상적인 직관에도 잘 들어맞는다. 이러한 시도는 귀납의 문제를 근본적으로 해결하는 것은 아니지만, 귀납은 여전히 과학의 방법으로서 그 지위를 지킬 만하다는 사실을 보여 준다.';\r\n\r\nexport const getRandomInteger = (min: number, max: number) =>\r\n  min + Math.floor(Math.random() * (max - min));\r\n\r\nexport const getRandom1DList = (length: number, min = 1, max = LONG_TEXT.length) =>\r\n  Array.from({ length }).map(() => getRandomInteger(min, max));\r\n\r\nexport const getRandom2DList = (length: number, min = 240, max = 960) =>\r\n  Array.from({ length }).map((): [number, number] => [\r\n    getRandomInteger(min, max),\r\n    getRandomInteger(min, max),\r\n  ]);\r\n\r\nexport const getRandomHSL = (\r\n  hue = getRandomInteger(0, 256),\r\n  saturation = getRandomInteger(0, 100),\r\n  lightness = getRandomInteger(0, 100)\r\n) => `hsl(${hue},${saturation}%,${lightness}%)`;\r\n"],"names":["MasonryContext","createContext","MasonryProvider","memo","props","rowGap","children","jsx","Board","Element","columnGap","itemSize","fluidResize","size","toPixelIfNumber","masonryBoard","assignInlineVars","columnGapVar","itemSizeVar","useMasonryContext","value","useContext","Item","volume","setVolume","useState","item","useRef","useEffect","resizeObserver","entries","entry","height","columnFlow","rowGapVar","volumeVar","Masonry","LONG_TEXT","getRandomInteger","min","max","getRandom1DList","length","getRandom2DList","getRandomHSL","hue","saturation","lightness"],"mappings":"oKAOa,MAAAA,EAAiBC,EAAAA,cAA0C,IAAI,EAEtEC,EAAkBC,EAAA,KAAK,SAC3BC,EACA,CACM,KAAA,CAAE,OAAAC,EAAQ,SAAAC,CAAa,EAAAF,EAEtB,OAAAG,EAAA,IAACP,EAAe,SAAf,CAAwB,MAAO,CAAE,OAAAK,CAAA,EAAW,SAAAC,CAAS,CAAA,CAC/D,CAAC,ECADE,EAAAJ,GAAA,CAGE,KAAA,CAAM,GAAAK,EAAA,MACU,OAAAJ,EAAA,EACL,UAAAK,EAAA,EACG,SAAAC,EAAA,MACD,YAAAC,EAAA,GACG,SAAAN,CACd,EAAAF,EAGFS,EAAAD,EAAA,UAAAE,EAAAH,CAAA,CAAA,SAAAG,EAAAH,CAAA,EAIA,OAAAJ,EAAA,IAAAL,EAAA,CAAA,OAAAG,EAAA,SAAAE,EAAA,IAEIE,EAAC,CAAA,UAAAM,EACY,MAAAC,EAAA,CACa,CAAAC,CAAA,EAAAH,EAAAJ,CAAA,EACmB,CAAAQ,CAAA,EAAAL,CAC1B,CAAA,EAChB,SAAAP,CAEA,CAAA,CAAA,CAAA,CAIT,wvBCzCA,MAAMa,EAAoB,IAAM,CACxB,MAAAC,EAAQC,aAAWrB,CAAc,EACvC,GAAI,CAACoB,EAAa,MAAA,IAAI,MAAM,kCAAkC,EACvD,OAAAA,CACT,wDCDA,MAAAE,EAAAlB,GAAA,CACE,KAAA,CAAA,SAAAE,CAAA,EAAAF,EAEA,CAAAmB,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,EACAC,EAAAC,SAAA,IAAA,EACA,CAAA,OAAAtB,EAAA,CAAA,EAAAc,EAAA,EAEAS,OAAAA,EAAAA,UAAA,IAAA,CACE,MAAAC,EAAA,IAAA,eAAAC,GAAA,CACE,KAAA,CAAAC,CAAA,EAAAD,EACA,CAAA,OAAAE,CAAA,EAAAD,EAAA,OAAA,sBAAA,EAEAP,EAAA,KAAA,KAAAQ,CAAA,CAAA,CAA2B,CAAA,EAG7B,OAAAN,EAAA,SAAkBG,EAAA,QAAAH,EAAA,OAAA,EAElB,IAAAG,EAAA,YAAuC,EAAA,CAAAxB,CAAA,CAAA,EAGzCE,EAAA,IACE,MAAC,CAAA,IAAAmB,EACM,UAAAO,EACM,MAAAjB,EAAA,CACa,CAAAkB,CAAA,EAAApB,EAAAT,CAAA,EACa,CAAA8B,CAAA,EAAAZ,EAAA,SAAA,CACN,CAAA,EAC9B,SAAAjB,CAEA,CAAA,CAGP,8FCnCA,MAAM8B,EAAU,OAAO,OAAO5B,EAAO,CAAE,KAAAc,EAAM,ECHhCe,EACX,ihDAEWC,EAAmB,CAACC,EAAaC,IAC5CD,EAAM,KAAK,MAAM,KAAK,OAAY,GAAAC,EAAMD,EAAI,EAEjCE,EAAkB,CAACC,EAAgBH,EAAM,EAAGC,EAAMH,EAAU,SACvE,MAAM,KAAK,CAAE,OAAAK,CAAQ,CAAA,EAAE,IAAI,IAAMJ,EAAiBC,EAAKC,CAAG,CAAC,EAEhDG,EAAkB,CAACD,EAAgBH,EAAM,IAAKC,EAAM,MAC/D,MAAM,KAAK,CAAE,OAAAE,EAAQ,EAAE,IAAI,IAAwB,CACjDJ,EAAiBC,EAAKC,CAAG,EACzBF,EAAiBC,EAAKC,CAAG,CAC3B,CAAC,EAEUI,EAAe,CAC1BC,EAAMP,EAAiB,EAAG,GAAG,EAC7BQ,EAAaR,EAAiB,EAAG,GAAG,EACpCS,EAAYT,EAAiB,EAAG,GAAG,IAChC,OAAOO,CAAG,IAAIC,CAAU,KAAKC,CAAS;;;;"}